[kernel] Parsing deterministic.i (no preprocessing)
[kernel] Parsing TMPDIR/aorai_deterministic_0.i (no preprocessing)
/* Generated by Frama-C */
enum aorai_States {
    S0 = 0,
    S1 = 1,
    S2 = 2,
    S3 = 3,
    S4 = 4,
    S5 = 5,
    Sf = 6,
    Si = 7,
    aorai_reject = 8
};
enum aorai_ListOper {
    op_f = 3,
    op_g = 2,
    op_main = 1,
    op_real_main = 0
};
enum aorai_OpStatusList {
    aorai_Terminated = 1,
    aorai_Called = 0
};
/*@ check lemma aorai_reject_deterministic_trans{L}: \true;
 */
/*@ check lemma Si_deterministic_trans{L}: \true;
 */
/*@ check lemma Sf_deterministic_trans{L}: \true;
 */
/*@ check lemma S5_deterministic_trans{L}: \true;
 */
/*@ check lemma S4_deterministic_trans{L}: \true;
 */
/*@ check lemma S2_deterministic_trans{L}: \true;
 */
int X;
int Y;
/*@ ghost enum aorai_ListOper aorai_CurOperation; */
/*@ ghost enum aorai_OpStatusList aorai_CurOpStatus; */
/*@
check lemma S3_deterministic_trans{L}:
  ∀ int x;
    ¬(\at(aorai_CurOperation,L) ≡ op_g ∧
       \at(aorai_CurOpStatus,L) ≡ aorai_Called ∧ x ≡ 5 ∧
       \at(aorai_CurOperation,L) ≡ op_g ∧
       \at(aorai_CurOpStatus,L) ≡ aorai_Called ∧ x ≡ 4);
 */
/*@
check lemma S1_deterministic_trans{L}:
  ∀ int __retres_f, int x;
    ¬(\at(aorai_CurOperation,L) ≡ op_f ∧
       \at(aorai_CurOpStatus,L) ≡ aorai_Terminated ∧ __retres_f ≡ 0 ∧
       \at(X,L) ≡ 5 ∧ \at(aorai_CurOperation,L) ≡ op_f ∧
       \at(aorai_CurOpStatus,L) ≡ aorai_Called ∧ x ≡ 4);
 */
/*@
check lemma S0_deterministic_trans{L}:
  ∀ int c;
    ¬(\at(aorai_CurOperation,L) ≡ op_real_main ∧
       \at(aorai_CurOpStatus,L) ≡ aorai_Called ∧ c ≢ 0 ∧
       \at(aorai_CurOperation,L) ≡ op_real_main ∧
       \at(aorai_CurOpStatus,L) ≡ aorai_Called ∧ c ≡ 0);
 */
/*@ ghost int aorai_CurStates = Si; */
/*@ ghost
  /@ requires aorai_CurStates ≡ S3;
     requires aorai_CurStates ≡ S3 ⇒ x ≡ 5 ∨ x ≡ 4;
     ensures aorai_CurOpStatus ≡ aorai_Called;
     ensures aorai_CurOperation ≡ op_g;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_out:
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_out:
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_out:
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_in:
       assumes aorai_CurStates ≡ S3 ∧ x ≡ 4;
       ensures aorai_CurStates ≡ S4;
     
     behavior buch_state_S4_out:
       assumes aorai_CurStates ≢ S3 ∨ ¬(x ≡ 4);
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_in:
       assumes aorai_CurStates ≡ S3 ∧ x ≡ 5;
       ensures aorai_CurStates ≡ S5;
     
     behavior buch_state_S5_out:
       assumes aorai_CurStates ≢ S3 ∨ ¬(x ≡ 5);
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_out:
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void g_pre_func(int x)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Called;
    aorai_CurOperation = op_g;
    if (3 == aorai_CurStates) {
      if (x == 4) aorai_CurStates = S4; else goto __aorai_label;
    }
    else {
      __aorai_label: ;
      if (3 == aorai_CurStates) 
        if (x == 5) aorai_CurStates = S5;
        else aorai_CurStates = aorai_reject;
      else aorai_CurStates = aorai_reject;
    }
    return;
  }

*/

/*@ ghost
  /@ requires aorai_CurStates ≡ S4 ∨ aorai_CurStates ≡ S5;
     ensures aorai_CurOpStatus ≡ aorai_Terminated;
     ensures aorai_CurOperation ≡ op_g;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_in:
       assumes aorai_CurStates ≡ S5;
       ensures aorai_CurStates ≡ S1;
     
     behavior buch_state_S1_out:
       assumes aorai_CurStates ≢ S5;
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_out:
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_in:
       assumes aorai_CurStates ≡ S4;
       ensures aorai_CurStates ≡ S3;
     
     behavior buch_state_S3_out:
       assumes aorai_CurStates ≢ S4;
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_out:
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void g_post_func(void)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Terminated;
    aorai_CurOperation = op_g;
    if (5 == aorai_CurStates) aorai_CurStates = S1;
    else 
      if (4 == aorai_CurStates) aorai_CurStates = S3;
      else aorai_CurStates = aorai_reject;
    return;
  }

*/

/*@ requires aorai_CurStates ≡ S3;
    requires aorai_CurStates ≡ S3 ⇒ x ≡ 5 ∨ x ≡ 4;
    
    behavior Buchi_behavior_in_1:
      assumes aorai_CurStates ≡ S3 ∧ x ≡ 5;
      ensures aorai_CurStates ≡ S1;
    
    behavior Buchi_behavior_in_0:
      assumes aorai_CurStates ≡ S3 ∧ x ≡ 4;
      ensures aorai_CurStates ≡ S3;
 */
void g(int x)
{
  /*@ ghost g_pre_func(x); */
  Y = x;
  /*@ ghost g_post_func(); */
  return;
}

/*@ ghost
  /@ requires aorai_CurStates ≡ S1;
     requires aorai_CurStates ≡ S1 ⇒ x ≡ 4;
     ensures aorai_CurOpStatus ≡ aorai_Called;
     ensures aorai_CurOperation ≡ op_f;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_out:
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_out:
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_in:
       assumes aorai_CurStates ≡ S1 ∧ x ≡ 4;
       ensures aorai_CurStates ≡ S3;
     
     behavior buch_state_S3_out:
       assumes aorai_CurStates ≢ S1 ∨ ¬(x ≡ 4);
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_out:
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void f_pre_func(int x)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Called;
    aorai_CurOperation = op_f;
    if (1 == aorai_CurStates) 
      if (x == 4) aorai_CurStates = S3; else aorai_CurStates = aorai_reject;
    else aorai_CurStates = aorai_reject;
    return;
  }

*/

/*@ ghost
  /@ requires aorai_CurStates ≡ S1;
     requires aorai_CurStates ≡ S1 ⇒ res ≡ 0 ∧ X ≡ 5;
     ensures aorai_CurOpStatus ≡ aorai_Terminated;
     ensures aorai_CurOperation ≡ op_f;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_out:
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_in:
       assumes aorai_CurStates ≡ S1 ∧ res ≡ 0 ∧ X ≡ 5;
       ensures aorai_CurStates ≡ S2;
     
     behavior buch_state_S2_out:
       assumes aorai_CurStates ≢ S1 ∨ ¬(res ≡ 0 ∧ X ≡ 5);
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_out:
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_out:
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void f_post_func(int res)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Terminated;
    aorai_CurOperation = op_f;
    if (1 == aorai_CurStates) 
      if (res == 0) 
        if (X == 5) aorai_CurStates = S2;
        else aorai_CurStates = aorai_reject;
      else aorai_CurStates = aorai_reject;
    else aorai_CurStates = aorai_reject;
    return;
  }

*/

/*@ requires aorai_CurStates ≡ S1;
    requires aorai_CurStates ≡ S1 ⇒ x ≡ 4;
    
    behavior Buchi_property_behavior:
      ensures aorai_CurStates ≡ S2 ⇒ \result ≡ 0 ∧ X ≡ 5;
      ensures aorai_CurStates ≡ S2;
 */
int f(int x)
{
  int __retres;
  /*@ ghost f_pre_func(x); */
  X = x;
  g(X);
  X ++;
  g(X);
  __retres = 0;
  /*@ ghost f_post_func(__retres); */
  return __retres;
}

/*@ ghost
  /@ requires aorai_CurStates ≡ S0;
     requires aorai_CurStates ≡ S0 ⇒ c ≡ 0 ∨ c ≢ 0;
     ensures aorai_CurOpStatus ≡ aorai_Called;
     ensures aorai_CurOperation ≡ op_real_main;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_in:
       assumes aorai_CurStates ≡ S0 ∧ c ≢ 0;
       ensures aorai_CurStates ≡ S1;
     
     behavior buch_state_S1_out:
       assumes aorai_CurStates ≢ S0 ∨ c ≡ 0;
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_in:
       assumes aorai_CurStates ≡ S0 ∧ c ≡ 0;
       ensures aorai_CurStates ≡ S2;
     
     behavior buch_state_S2_out:
       assumes aorai_CurStates ≢ S0 ∨ ¬(c ≡ 0);
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_out:
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_out:
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void real_main_pre_func(int c)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Called;
    aorai_CurOperation = op_real_main;
    if (0 == aorai_CurStates) {
      if (c != 0) aorai_CurStates = S1; else goto __aorai_label_0;
    }
    else {
      __aorai_label_0: ;
      if (0 == aorai_CurStates) 
        if (c == 0) aorai_CurStates = S2;
        else aorai_CurStates = aorai_reject;
      else aorai_CurStates = aorai_reject;
    }
    return;
  }

*/

/*@ ghost
  /@ requires aorai_CurStates ≡ S2;
     ensures aorai_CurOpStatus ≡ aorai_Terminated;
     ensures aorai_CurOperation ≡ op_real_main;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_out:
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_out:
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_out:
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_in:
       assumes aorai_CurStates ≡ S2;
       ensures aorai_CurStates ≡ Sf;
     
     behavior buch_state_Sf_out:
       assumes aorai_CurStates ≢ S2;
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void real_main_post_func(int res)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Terminated;
    aorai_CurOperation = op_real_main;
    if (2 == aorai_CurStates) aorai_CurStates = Sf;
    else aorai_CurStates = aorai_reject;
    return;
  }

*/

/*@ requires aorai_CurStates ≡ S0;
    requires aorai_CurStates ≡ S0 ⇒ c ≡ 0 ∨ c ≢ 0;
    
    behavior Buchi_property_behavior:
      ensures aorai_CurStates ≡ Sf;
 */
int real_main(int c)
{
  int __retres;
  /*@ ghost real_main_pre_func(c); */
  if (c) f(4);
  __retres = 0;
  /*@ ghost real_main_post_func(__retres); */
  return __retres;
}

/*@ ghost
  /@ requires aorai_CurStates ≡ Si;
     ensures aorai_CurOpStatus ≡ aorai_Called;
     ensures aorai_CurOperation ≡ op_main;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_in:
       assumes aorai_CurStates ≡ Si;
       ensures aorai_CurStates ≡ S0;
     
     behavior buch_state_S0_out:
       assumes aorai_CurStates ≢ Si;
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_out:
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_out:
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_out:
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_out:
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void main_pre_func(int c)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Called;
    aorai_CurOperation = op_main;
    if (7 == aorai_CurStates) aorai_CurStates = S0;
    else aorai_CurStates = aorai_reject;
    return;
  }

*/

/*@ ghost
  /@ requires aorai_CurStates ≡ Sf;
     ensures aorai_CurOpStatus ≡ aorai_Terminated;
     ensures aorai_CurOperation ≡ op_main;
     assigns aorai_CurOpStatus, aorai_CurOperation, aorai_CurStates;
     
     behavior buch_state_S0_out:
       ensures aorai_CurStates ≢ S0;
     
     behavior buch_state_S1_out:
       ensures aorai_CurStates ≢ S1;
     
     behavior buch_state_S2_out:
       ensures aorai_CurStates ≢ S2;
     
     behavior buch_state_S3_out:
       ensures aorai_CurStates ≢ S3;
     
     behavior buch_state_S4_out:
       ensures aorai_CurStates ≢ S4;
     
     behavior buch_state_S5_out:
       ensures aorai_CurStates ≢ S5;
     
     behavior buch_state_Sf_in:
       assumes aorai_CurStates ≡ Sf;
       ensures aorai_CurStates ≡ Sf;
     
     behavior buch_state_Sf_out:
       assumes aorai_CurStates ≢ Sf;
       ensures aorai_CurStates ≢ Sf;
     
     behavior buch_state_Si_out:
       ensures aorai_CurStates ≢ Si;
     
     behavior buch_state_aorai_reject_out:
       ensures aorai_CurStates ≢ aorai_reject;
   @/
  void main_post_func(int res)
  {
    /@ slevel full; @/
    aorai_CurOpStatus = aorai_Terminated;
    aorai_CurOperation = op_main;
    if (6 == aorai_CurStates) aorai_CurStates = Sf;
    else aorai_CurStates = aorai_reject;
    return;
  }

*/

/*@ requires aorai_CurStates ≡ Si;
    
    behavior Buchi_property_behavior:
      ensures aorai_CurStates ≡ Sf;
 */
int main(int c)
{
  int tmp;
  /*@ ghost main_pre_func(c); */
  tmp = real_main(c);
  /*@ ghost main_post_func(tmp); */
  return tmp;
}


