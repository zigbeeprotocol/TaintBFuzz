[kernel] Parsing array_typedef.c (with preprocessing)
[eva] Analyzing a complete application starting at main
[eva] Computing initial state
[eva] Initial state computed
[eva:initial-state] Values of globals at initialization
  
[eva] computing for function create_msg <- main.
  Called from array_typedef.c:35.
[eva] computing for function host_address <- create_msg <- main.
  Called from array_typedef.c:25.
[eva] Recording results for host_address
[eva] Done for function host_address
[eva] computing for function host_address <- create_msg <- main.
  Called from array_typedef.c:26.
[eva] Recording results for host_address
[eva] Done for function host_address
[eva] array_typedef.c:27: assertion got status valid.
[eva] array_typedef.c:28: assertion got status valid.
[eva] array_typedef.c:29: assertion got status valid.
[eva] Recording results for create_msg
[eva] Done for function create_msg
[eva] computing for function send_msg <- main.
  Called from array_typedef.c:36.
[eva] computing for function send_addr <- send_msg <- main.
  Called from array_typedef.c:15.
[eva] using specification for function send_addr
[eva] array_typedef.c:12: Warning: no \from part for clause 'assigns \empty;'
[eva] Done for function send_addr
[eva] Recording results for send_msg
[eva] Done for function send_msg
[eva] Recording results for main
[eva] done for function main
[eva] ====== VALUES COMPUTED ======
[eva:final-states] Values at end of function host_address:
  i ∈ {4}
  msg1.src[0] ∈ {192}
      .src[1] ∈ {100}
      .src[2] ∈ {200}
      .src[3] ∈ {101}
      .dst[0] ∈ {192} or UNINITIALIZED
      .dst[1] ∈ {100} or UNINITIALIZED
      .dst[2] ∈ {200} or UNINITIALIZED
      .dst[3] ∈ {101} or UNINITIALIZED
[eva:final-states] Values at end of function create_msg:
  msg1.src[0] ∈ {192}
      .src[1] ∈ {100}
      .src[2] ∈ {200}
      .src[3] ∈ {101}
      .dst[0] ∈ {192}
      .dst[1] ∈ {100}
      .dst[2] ∈ {200}
      .dst[3] ∈ {101}
[eva:final-states] Values at end of function send_msg:
  
[eva:final-states] Values at end of function main:
  msg1.src[0] ∈ {192}
      .src[1] ∈ {100}
      .src[2] ∈ {200}
      .src[3] ∈ {101}
      .dst[0] ∈ {192}
      .dst[1] ∈ {100}
      .dst[2] ∈ {200}
      .dst[3] ∈ {101}
  __retres ∈ {0}
/* Generated by Frama-C */
typedef int ip_address[4];
struct __anonstruct_msg_1 {
   ip_address src ;
   int dst[4] ;
};
typedef struct __anonstruct_msg_1 msg;
/*@ assigns \empty; */
void send_addr(int const addr[4]);

void send_msg(msg const *msg)
{
  send_addr(msg->src);
  return;
}

void host_address(int ip[4])
{
  unsigned int i = sizeof(int [4]) / sizeof(int);
  *(ip + 0) = 192;
  *(ip + 1) = 100;
  *(ip + 2) = 200;
  *(ip + (i - (unsigned int)1)) = 101;
  return;
}

void create_msg(msg *msg)
{
  host_address(msg->src);
  host_address(msg->dst);
  /*@ assert msg->dst[0] ≡ 192; */ ;
  /*@ assert msg->src[0] ≡ 192; */ ;
  /*@ assert msg->dst[sizeof(ip_address) / sizeof(int) - 1] ≡ 101; */ ;
  return;
}

int main(void)
{
  int __retres;
  msg msg1;
  create_msg(& msg1);
  send_msg((msg const *)(& msg1));
  __retres = 0;
  return __retres;
}


